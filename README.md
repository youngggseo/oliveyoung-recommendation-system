# 올리브영 추천시스템 프로젝트

## 데이터 크롤링, 전처리

[올리브영 스킨케어 랭킹100](https://www.oliveyoung.co.kr/store/main/getBestList.do?dispCatNo=900000100100001&fltDispCatNo=10000010001&pageIdx=1&rowsPerPage=8&t_page=%EB%9E%AD%ED%82%B9&t_click=%ED%8C%90%EB%A7%A4%EB%9E%AD%ED%82%B9_%EC%8A%A4%ED%82%A8%EC%BC%80%EC%96%B4)

위 링크에서 링크크롤링, 상품크롤링, 리뷰정보크롤링, 통합크롤링 진행 후 전처리

- 링크크롤링을 통해 스킨케어 랭킹의 100개의 상품 링크 리스트 만들기
- 상품크롤링을 통해 **브랜드, 제품명, 원래 가격, 최종 가격, 리뷰 수, 리뷰 등급, 리뷰 점수별 퍼센트, 리뷰 점수 항목별 퍼센트** 크롤링
- 리뷰정보크롤링을 통해 **제품명, 리뷰어, 리뷰어 정보, 별점, 한달이상사용, 재구매여부, 피부타입, 피부고민, 자극도, 리뷰내용** 크롤링
- 통합크롤링을 통해 수집된 링크를 순회하면서 각 아이템마다의 데이터를 수집하는 코드를 작성
- '원래 가격' 및 '최종 가격' => ","와 "원"이 있다면 빼고 int로 만들어 전처리
- '리뷰 수' => ","를 빼고 int로 만들어서 전처리
- 점수별 퍼센트 {'5점': '93%', '4점': '6%', '3점': '1%', '2점': '0%', '1점': '0%'} 이런식으로 되어 있는데, 점수 비율_5점, 점수 비율_4점, ..., 점수 비율_1점 컬럼 만들고 % 제거 하고 int로 만들어서 전처리
- 리뷰 점수 항목별 퍼센트 {'피부타입': {'건성에 좋아요': '35%', '복합성에 좋아요': '59%', '지성에 좋아요': '7%'}, '피부고민': {'보습에 좋아요': '33%', '진정에 좋아요': '18%', '주름/미백에 좋아요': '49%'}, '자극도': {'자극없이 순해요': '62%', '보통이에요': '35%', '자극이 느껴져요': '3%'}}를 %빼고 int로 바꿔서 전처리

## 데이터 결과
<img width="876" alt="image" src="https://github.com/user-attachments/assets/5ba52321-3997-48df-8890-86608c562581">
<img width="941" alt="image" src="https://github.com/user-attachments/assets/62f484c3-1f86-4637-b8b8-1f2b4e6a32a2">

## 추천시스템 구현
제품별 제품명 + 리뷰 내용을 Sentence Transformer를 활용하여 임베딩 벡터를 계산합니다.
주어진 유저 query에 대해, Sentence Transformer로 임베딩을 한 뒤, 이미 구해진 제품별 임베딩 벡터들간의 코사인 유사도를 계산합니다. 코사인 유사도를 기반으로, 제품별 추천을 구현합니다. 

## 사용 예시: 특정 사용자 쿼리에 대해 추천 제품을 출력
user_query = "건조한 피부에 좋은 보습 크림 추천해주세요."
get_top_products_by_similarity(user_query, df_reviews)
